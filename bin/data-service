#!/usr/bin/env node
var program = require('gitlike-cli');

function listUsers() {
  var run = require('./list-users.js');
  run();
}

function listSensors(args) {
  var run = require('./list-sensors.js');
  run(args.userUID);
}

function showUser(args) {
  var run = require('./show-user.js');
  run(args.uid);
}

function showSensor(args) {
  var run = require('./show-sensor.js');
  run(args.userUID, args.sensorUID);
}

program
  .command('list')
    .command('users')
      .description("List all users")
      .action(listUsers)
      .parent
    .command('sensors <userUID>')
      .description("List sensors for a user")
      .action(listSensors)
      .parent
    .command('datastreams').parent
    .parent

  .command('show')
    .command('user <UID>')
      .description("Show a user")
      .action(showUser)
      .parent
    .command('sensor <userUID> <sensorUID>')
      .description("Show a sensor")
      .action(showSensor)
      .parent
    .parent
  .parse(process.argv);

